-- SmallDraggableUI Library
local Library = {}
Library.__index = Library

function Library:CreateUI(title)
	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "SmallDraggableUI"
	ScreenGui.ResetOnSpawn = false
	ScreenGui.Parent = game:GetService("CoreGui")

	-- Main Frame
	local Frame = Instance.new("Frame")
	Frame.Size = UDim2.new(0, 180, 0, 90)
	Frame.Position = UDim2.new(0.5, -90, 0.5, -45)
	Frame.BackgroundColor3 = Color3.fromRGB(35, 35, 40)
	Frame.BorderSizePixel = 0
	Frame.Active = true
	Frame.Draggable = true
	Frame.Parent = ScreenGui

	-- Round corners
	local UICorner = Instance.new("UICorner")
	UICorner.CornerRadius = UDim.new(0, 10)
	UICorner.Parent = Frame

	-- Title bar
	local Title = Instance.new("TextLabel")
	Title.Text = title or "My Small UI"
	Title.Size = UDim2.new(1, 0, 0, 25)
	Title.BackgroundColor3 = Color3.fromRGB(50, 50, 55)
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.Font = Enum.Font.GothamBold
	Title.TextSize = 16
	Title.Parent = Frame

	local UICorner2 = Instance.new("UICorner")
	UICorner2.CornerRadius = UDim.new(0, 10)
	UICorner2.Parent = Title

	-- Example button
	local Button = Instance.new("TextButton")
	Button.Size = UDim2.new(1, -20, 0, 30)
	Button.Position = UDim2.new(0, 10, 0, 45)
	Button.BackgroundColor3 = Color3.fromRGB(85, 170, 255)
	Button.TextColor3 = Color3.fromRGB(255, 255, 255)
	Button.Font = Enum.Font.Gotham
	Button.TextSize = 14
	Button.Text = "Click Me!"
	Button.Parent = Frame

	local UICorner3 = Instance.new("UICorner")
	UICorner3.CornerRadius = UDim.new(0, 8)
	UICorner3.Parent = Button

	-- Mobile drag support
	local UserInputService = game:GetService("UserInputService")
	local dragging = false
	local dragStart, startPos

	Title.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = Frame.Position
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
			local delta = input.Position - dragStart
			Frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
		end
	end)

	UserInputService.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = false
		end
	end)

	Button.MouseButton1Click:Connect(function()
		print("Button clicked!")
	end)

	return Frame
end

return Library
